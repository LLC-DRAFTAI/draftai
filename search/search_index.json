{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"DraftAI Documentation","text":"<p>\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 DraftAI \u2014 \u0418\u0418-\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0447\u0435\u0440\u0442\u0435\u0436\u0435\u0439 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.</p>"},{"location":"#_1","title":"\ud83d\udccc \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>draftai/</p> <p>\u251c\u2500\u2500 nlp_core/ # \u041c\u043e\u0434\u0443\u043b\u044c NLP \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0422\u0417</p> <p>\u251c\u2500\u2500 bim_core/ # \u041c\u043e\u0434\u0443\u043b\u044c BIM \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 IFC \u043c\u043e\u0434\u0435\u043b\u0435\u0439</p> <p>\u251c\u2500\u2500 mcp_server/ # MCP \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f FreeCAD</p> <p>\u251c\u2500\u2500 scripts/ # \u0421\u043a\u0440\u0438\u043f\u0442\u044b \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430</p> <p>\u251c\u2500\u2500 Dockerfile.* # Docker-\u043e\u0431\u0440\u0430\u0437 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430</p> <p>\u251c\u2500\u2500 mkdocs.yml # \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438</p> <p>\u251c\u2500\u2500 .github/workflows # CI/CD \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f GitHub Actions</p> <p>\u2514\u2500\u2500 README.md # \u041a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 README</p>"},{"location":"#_2","title":"\ud83d\udccc \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043f\u043e \u043c\u043e\u0434\u0443\u043b\u044f\u043c","text":""},{"location":"#nlp-core","title":"NLP Core","text":"<p>nlp_core/config/ \u2014 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0422\u0417.</p> <p>nlp_core/input/ \u2014 \u0432\u0445\u043e\u0434\u043d\u044b\u0435 \u0422\u0417.</p> <p>nlp_core/OUT/ \u2014 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0430.</p> <p>nlp_core/nlp_core/run.py \u2014 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442.</p> <p>nlp_core/nlp_core/run_cli.py \u2014 \u043e\u0431\u0451\u0440\u0442\u043a\u0430 \u0441 argparse \u0434\u043b\u044f CLI \u0437\u0430\u043f\u0443\u0441\u043a\u0430.</p>"},{"location":"#bim-core","title":"BIM Core","text":"<p>bim_core/bim_core/run.py \u2014 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043c\u043e\u0434\u0443\u043b\u044c BIM.</p> <p>bim_core/bim_core/run_cli.py \u2014 CLI-\u043e\u0431\u0451\u0440\u0442\u043a\u0430.</p> <p>bim_core/runs/ \u2014 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 IFC \u043c\u043e\u0434\u0435\u043b\u0435\u0439.</p> <p>bim_core/samples/ \u2014 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.</p> <p>bim_core/place_radiators_clientV2.py \u2014 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432 \u0432 IFC \u0447\u0435\u0440\u0435\u0437 MCP.</p>"},{"location":"#mcp-server","title":"MCP Server","text":"<p>mcp_server/mcp_serverV3.py \u2014 \u0437\u0430\u043f\u0443\u0441\u043a MCP \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043c\u043e\u0434\u0435\u043b\u0438.</p> <p>mcp_server/run_cli.py \u2014 CLI-\u043e\u0431\u0451\u0440\u0442\u043a\u0430.</p>"},{"location":"#nlp-bim-mcp","title":"\ud83d\udccc \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u043c\u043e\u0434\u0443\u043b\u0435\u0439 (NLP \u2192 BIM \u2192 MCP)","text":"<p>Pipeline \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0442\u0440\u0451\u0445 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0448\u0430\u0433\u043e\u0432:</p> <p>NLP \u2014 \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f (DOCX/PDF/TXT) \u2192 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f nlp_core/OUT/result.json.</p> <p>BIM \u2014 \u0430\u043d\u0430\u043b\u0438\u0437 IFC \u0438 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0438\u0437 NLP \u2192 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f stubs.json \u0438 match_report.json \u0432 \u043f\u0430\u043f\u043a\u0435 bim_core/runs/....</p> <p>MCP \u2014 MCP-\u0441\u0435\u0440\u0432\u0435\u0440 (\u0432 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 FreeCAD) \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 stubs.json \u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0430\u0435\u0442 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u044b (\u0440\u0430\u0434\u0438\u0430\u0442\u043e\u0440\u044b) \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 FreeCAD.</p> <p>\u0412\u0430\u0436\u043d\u043e: \u0448\u0430\u0433 MCP \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e FreeCAD (\u043c\u043e\u0434\u0443\u043b\u0438 FreeCAD/Part \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 FreeCAD). \u041d\u0430 CI (GitHub Actions) MCP \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043d\u0435\u043b\u044c\u0437\u044f \u2014 \u0432\u043c\u0435\u0441\u0442\u043e \u044d\u0442\u043e\u0433\u043e MCP \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u043c\u043e\u043a\u0438 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e.</p> <p>\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b (\u043a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c)</p> <p>nlp_core/OUT/result.json \u2014 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 NLP (TZ \u2192 JSON).</p> <p>bim_core/runs/stubs.json \u2014 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u044b.</p> <p>bim_core/runs/match_report.json \u2014 \u043e\u0442\u0447\u0451\u0442 \u043e \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0439.</p> <p>bim_core/runs/spaces.json \u2014 \u043e\u0442\u0447\u0451\u0442 \u043e \u0447\u0442\u0435\u043d\u0438\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438\u0437 IFC \u043c\u043e\u0434\u0435\u043b\u0438.</p>"},{"location":"#pipeline","title":"\ud83d\udccc \u0427\u0435\u043a\u043b\u0438\u0441\u0442: \u0447\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u043e \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c pipeline","text":"<ul> <li> <p>Python &gt;= 3.11 \u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0434\u043b\u044f nlp_core \u0438 bim_core.</p> </li> <li> <p>IFC-\u043c\u043e\u0434\u0435\u043b\u044c \u0432 bim_core/samples/ \u0438\u043b\u0438 \u043f\u0443\u0442\u044c \u043a \u043d\u0435\u0439 \u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d.</p> </li> <li> <p>FreeCAD \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d (\u0435\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c MCP).</p> </li> </ul> <p>\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043e\u043f\u0438\u0441\u0430\u043d \u0432 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u043c README.md. </p>"},{"location":"guide/bim/","title":"BIM Core","text":"<p>BIM Core \u2014 \u043c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 IFC-\u043c\u043e\u0434\u0435\u043b\u0438 \u0438 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0439 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0438\u0437 NLP (<code>result.json</code>).  \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u0434\u0443\u043b\u044c \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 <code>`stubs.json`</code> (\u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432) \u0438 <code>`match_report.json`</code> (\u043e\u0442\u0447\u0451\u0442 \u043e \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0437\u0430\u0442\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f MCP Server \u0434\u043b\u044f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432 \u0432 FreeCAD.</p> <p>\ud83d\udcc2 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430</p> <pre><code>bim_core/\n\u251c\u2500\u2500 bim_core/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 run.py              # \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 IFC \u0438 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f\n\u2502   \u251c\u2500\u2500 run_cli.py          # CLI-wrapper (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0435\u0433\u043e)\n\u2502   \u251c\u2500\u2500 ifc_reader.py       # \u044d\u043a\u0441\u043f\u043e\u0440\u0442 spaces.json \u0438\u0437 IFC\n\u2502   \u251c\u2500\u2500 generate_stubs.py   # \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432/\u0437\u0430\u0433\u043b\u0443\u0448\u0435\u043a\n\u2502   \u251c\u2500\u2500 match_zones.py      # \u043b\u043e\u0433\u0438\u043a\u0430 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0439 -&gt; \u0422\u0417\n\u2502   \u251c\u2500\u2500 params_adapter.py   # \u0447\u0442\u0435\u043d\u0438\u0435/\u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438\u0437 TZ json\n\u2502   \u2514\u2500\u2500 synonyms.py         # \u0441\u043b\u043e\u0432\u0430\u0440\u044c/\u043c\u0430\u043f\u043f\u0438\u043d\u0433 \u0441\u0438\u043d\u043e\u043d\u0438\u043c\u043e\u0432\n\u251c\u2500\u2500 runs/                   # \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0430 (stubs.json, match_report.json \u0438 \u0442.\u0434.)\n\u251c\u2500\u2500 samples/                # \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (IFC, result.json \u0438\u0437 NLP)\n\u251c\u2500\u2500 place_radiators_clientV2.py  # \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 stubs \u0447\u0435\u0440\u0435\u0437 MCP (\u0442\u0435\u0441\u0442\u044b/\u0443\u0442\u0438\u043b\u0438\u0442\u044b)\n\u251c\u2500\u2500 requirements.txt\n\u2514\u2500\u2500 README.md               # \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0443\u043b\u044f\n</code></pre> <p>\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f</p> <ul> <li>Python <code>&gt;= 3.11</code> (\u043f\u0440\u043e\u0435\u043a\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0441\u044f \u043d\u0430 Python 3.13).  </li> <li>\u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b MCP (\u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u044d\u0442\u0430\u043f \u0432\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438) \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 FreeCAD (\u043d\u0435 \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 BIM Core).  </li> <li>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>.venv</code>), \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435 \u043a\u043e\u043c\u043c\u0438\u0442\u0438\u0442\u044c.</li> </ul> <p>\u2699\ufe0f \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430</p> <pre><code>cd draftai\\\npython -m venv .venv\n.\\.venv\\Scripts\\Activate.ps1    # PowerShell\npip install --upgrade pip\n</code></pre> <p>\u0414\u043b\u044f Linux/macOS \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>`python -m venv .venv &amp;&amp; source .venv/bin/activate`.</code></p> <p>\u0417\u0430\u043f\u0443\u0441\u043a (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 <code>`run_cli.py`</code>)</p> <p>\u0412\u0441\u0435\u0433\u0434\u0430 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u0435\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c <code>`bim_core/bim_core/run_cli.py`</code>, \u0430 \u043d\u0435 <code>`run.py`</code> \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u2014 wrapper \u043f\u043e\u0434\u0433\u043e\u0442\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435, \u0430\u0432\u0442\u043e\u043f\u043e\u0438\u0441\u043a IFC, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 <code>`sys.path`</code> \u0438 cwd.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440\u044b (\u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f)</p> <ul> <li>\u0417\u0430\u043f\u0443\u0441\u043a \u0441 \u044f\u0432\u043d\u044b\u043c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c IFC-\u0444\u0430\u0439\u043b\u0430:</li> </ul> <pre><code>python .\\bim_core\\bim_core\\run_cli.py --tz .\\nlp_core\\OUT\\result.json --ifc .\\bim_core\\samples\\OfficeBuilding41_IFC1.ifc --out .\\bim_core\\runs\\test_out -v\n</code></pre> <ul> <li>\u0417\u0430\u043f\u0443\u0441\u043a \u0441 \u0430\u0432\u0442\u043e\u043f\u043e\u0438\u0441\u043a\u043e\u043c IFC \u0432 <code>bim_core/samples/</code>:</li> </ul> <pre><code>python .\\bim_core\\bim_core\\run_cli.py --tz .\\nlp_core\\OUT\\result.json --out .\\bim_core\\runs\\test_out -v\n</code></pre> <p>\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b: - <code>--tz</code> / <code>--nlp</code>: \u043f\u0443\u0442\u044c \u043a JSON \u0438\u0437 NLP (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d). - <code>--ifc</code>: \u043f\u0443\u0442\u044c \u043a IFC \u043c\u043e\u0434\u0435\u043b\u0438 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e \u2014 \u0430\u0432\u0442\u043e\u043f\u043e\u0438\u0441\u043a \u043f\u043e <code>bim_core/samples/</code>). - <code>--spaces</code>: \u043f\u0443\u0442\u044c \u043a <code>spaces.json</code> (\u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0430 <code>--ifc</code>). - <code>--out</code>: \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0432\u044b\u0432\u043e\u0434\u0430 (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e). - <code>--config</code>: \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f. - <code>--verbose</code> / <code>-v</code>: \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 \u043b\u043e\u0433.</p> <p>\u0427\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 BIM Core</p> <p>\u0412 \u043f\u0430\u043f\u043a\u0435 <code>--out</code> (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 <code>bim_core/runs/</code>) \u0432\u044b \u043d\u0430\u0439\u0434\u0451\u0442\u0435:</p> <ul> <li><code>stubs.json</code> \u2014 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432 MCP/FreeCAD. \u041f\u0440\u0438\u043c\u0435\u0440 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430:</li> </ul> <pre><code>{\n  \"id\": \"space-123\",\n  \"name\": \"\u041e\u0444\u0438\u0441\",\n  \"system\": \"heating\",\n  \"t_in\": 90,\n  \"t_out\": 65,\n  \"temperature\": 24,\n  \"radiator_type\": \"\u043d\u0430\u043f\u043e\u043b\u044c\u043d\u044b\u0435\",\n  \"coordinates\": [1.23, 4.56, 0.0]\n}\n</code></pre> <ul> <li><code>match_report.json</code> \u2014 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 \u043e\u0442\u0447\u0451\u0442 \u0441 \u043f\u043e\u043b\u044f\u043c\u0438 <code>matched</code> \u0438 <code>unmatched_spaces</code> (\u0441 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u043f\u043e \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044e).</li> <li><code>spaces.json</code> \u2014 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 \u043e\u0442\u0447\u0451\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 ifc \u043c\u043e\u0434\u0435\u043b\u0438.</li> </ul> <p>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 MCP / FreeCAD</p> <p>\u041f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 <code>`stubs.json`</code> \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u043d\u0430 MCP server (FreeCAD) \u0434\u043b\u044f \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. \u041f\u0440\u0438\u043c\u0435\u0440 (\u043a\u043b\u0438\u0435\u043d\u0442 \u0432 <code>scripts/send_stubs_cli.py</code>):</p> <pre><code>python .\\scripts\\send_stubs_cli.py --stubs .\\bim_core\\runs\\stubs.json -v\n</code></pre> <p>\u0412\u0430\u0436\u043d\u043e: MCP \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e FreeCAD \u2014 \u044d\u0442\u043e\u0442 \u0448\u0430\u0433 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0438 \u043d\u0435 \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 CI \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</p> <p>\u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u0438 \u0447\u0430\u0441\u0442\u043e \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u043e\u0448\u0438\u0431\u043a\u0438</p> <ul> <li>TZ \u0444\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u2014 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u043f\u0443\u0442\u044c \u0432 <code>--tz</code> \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d; \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u0435 \u043f\u0443\u0442\u0438.  </li> <li>No spaces.json provided or generated from IFC. \u2014 \u0443\u043a\u0430\u0436\u0438\u0442\u0435 <code>--spaces</code> \u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e <code>export_spaces</code> \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043b <code>spaces.json</code> (\u0432 <code>bim_core/runs/</code> \u0438\u043b\u0438 <code>bim_core/bim_core/runs/</code> \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 cwd).  </li> <li>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u2014 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 <code>bim_core/bim_core/synonyms.py</code> \u0438 <code>match_zones.py</code>; \u0434\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0441 <code>-v</code>.  </li> <li>IFC parser issues \u2014 \u0435\u0441\u043b\u0438 <code>ifc_reader</code> \u043f\u0430\u0434\u0430\u0435\u0442, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0444\u0430\u0439\u043b IFC (\u0444\u043e\u0440\u043c\u0430\u0442, \u0446\u0435\u043b\u043e\u0441\u0442\u043d\u043e\u0441\u0442\u044c) \u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 (\u043f\u0430\u0440\u0441\u0435\u0440\u044b IFC).</li> </ul>"},{"location":"guide/mcp_client/","title":"MCP Server (FreeCAD)","text":"<p>MCP Server \u2014 \u043b\u0451\u0433\u043a\u0438\u0439 TCP-\u0441\u0435\u0440\u0432\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 <code>stubs.json</code> (\u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432) \u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0430\u0435\u0442 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u044b (\u0440\u0430\u0434\u0438\u0430\u0442\u043e\u0440\u044b) \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 FreeCAD. \u041f\u0440\u043e\u0435\u043a\u0442 \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443: MCP \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 FreeCAD (GUI) \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 Python \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430\u043c FreeCAD (\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>FREECAD_PATH</code>).</p> <p>\u0412\u0430\u0436\u043d\u043e: \u043c\u043e\u0434\u0443\u043b\u0438 <code>FreeCAD</code>/<code>Part</code> \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 FreeCAD \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0432\u044b \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443 \u0441 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u043c\u0438 \u043c\u043e\u0434\u0443\u043b\u044f\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 <code>FREECAD_PATH</code>. MCP \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0432 CI (GitHub Actions) \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u2014 FreeCAD \u0442\u0430\u043c \u043d\u0435\u0442.</p> <p>\ud83d\udcc2 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430</p> <pre><code>mcp_server/\n\u251c\u2500\u2500 mcp_serverV3.py        # \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043e\u0434 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u0435\u043d \u043f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0431\u0435\u0437 FreeCAD)\n\u251c\u2500\u2500 run_cli.py             # CLI-wrapper \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0433\u043e Python\n\u2514\u2500\u2500 README.md              # \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0443\u043b\u044f\n</code></pre> <p>\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f</p> <ul> <li>Python <code>&gt;= 3.11</code> (\u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 wrapper \u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0445 \u0443\u0442\u0438\u043b\u0438\u0442).  </li> <li>\u0414\u043b\u044f \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432 \u2014 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 FreeCAD (GUI \u0438\u043b\u0438 FreeCAD Python).  </li> <li>\u041f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0447\u0435\u0440\u0435\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 <code>python</code> \u0443\u043a\u0430\u0436\u0438\u0442\u0435 <code>FREECAD_PATH</code>, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0443\u044e \u043d\u0430 \u043f\u0430\u043f\u043a\u0443 \u0441 <code>FreeCAD.pyd</code>/\u0431\u0438\u043d\u0430\u0440\u043d\u044b\u043c\u0438 \u043c\u043e\u0434\u0443\u043b\u044f\u043c\u0438 (\u043f\u0440\u0438\u043c\u0435\u0440: <code>C:\\Program Files\\FreeCAD 0.21\\bin</code>).</li> </ul> <p>\u2699\ufe0f \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430</p> <ol> <li>\u041a\u043b\u043e\u043d\u0438\u0440\u0443\u0439\u0442\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u043a\u043e\u0440\u0435\u043d\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0430.  </li> <li>(\u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0443\u0442\u0438\u043b\u0438\u0442/\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 <code>scripts/</code>:</li> </ol> <pre><code>python -m venv .venv\n.\\.venv\\Scripts\\Activate.ps1   # PowerShell\npip install --upgrade pip\n# \u0437\u0430\u0442\u0435\u043c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0434\u043b\u044f nlp/bim \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438\n</code></pre> <p>MCP \u0441\u0430\u043c \u043f\u043e \u0441\u0435\u0431\u0435 \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 pip-\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u043a\u0440\u043e\u043c\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a, \u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 pipeline \u043d\u0443\u0436\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 NLP/BIM.</p> <p>\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430</p> <p>1) \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u0432\u043d\u0443\u0442\u0440\u0438 FreeCAD (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430)</p> <p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 FreeCAD GUI \u2192 Python Console \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>exec(open(r\"C:\\path\\to\\draftai\\mcp_server\\mcp_serverV3.py\", encoding=\"utf-8\").read())\n</code></pre> <p>\u041f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043a\u0430\u043a <code>__main__</code> \u043c\u043e\u0434\u0443\u043b\u044c \u043f\u043e\u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f: - \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 (\u0435\u0441\u043b\u0438 ActiveDocument == None); - \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u0432 \u0444\u043e\u043d\u043e\u0432\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435 (<code>run_in_background()</code>), \u0447\u0442\u043e\u0431\u044b GUI \u043e\u0441\u0442\u0430\u043b\u0441\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c.</p> <p>\u0415\u0441\u043b\u0438 \u0430\u0432\u0442\u043e\u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u2014 \u0432 Python Console/Report View \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u0441\u0442\u0430\u0440\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u041e\u043f\u0446\u0438\u0438 <code>run_cli.py</code>: - <code>--host</code> (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>127.0.0.1</code>) \u2014 \u0445\u043e\u0441\u0442 \u0434\u043b\u044f \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0438. - <code>--port</code> (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>9090</code>) \u2014 TCP-\u043f\u043e\u0440\u0442. - <code>--background</code> / <code>-b</code> \u2014 \u0437\u0430\u043f\u0443\u0441\u043a \u0432 \u0444\u043e\u043d\u0435 (daemon thread). - <code>--freecad-path</code> \u2014 \u043f\u0443\u0442\u044c \u043a \u043f\u0430\u043f\u043a\u0435 FreeCAD bin (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e). - <code>--verbose</code> / <code>-v</code> \u2014 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u043b\u043e\u0433\u0438.</p> <p>\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432 <code>stubs.json</code> (\u043a\u043b\u0438\u0435\u043d\u0442)</p> <p>\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a BIM \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043b <code>stubs.json</code> (\u0432 <code>bim_core/runs/.../stubs.json</code>), \u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e \u043d\u0430 MCP:</p> <pre><code>python .\\scripts\\send_stubs_cli.py --stubs bim_core/runs/stubs.json -v\n</code></pre> <p>\u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f \u043a MCP \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442 JSON (\u043e\u0434\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 + <code>\\n</code>). \u0412 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 FreeCAD \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u044f\u0432\u0438\u0442\u044c\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u044b.</p> <p>\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432 CI</p> <ul> <li><code>mcp_serverV3.py</code> \u043d\u0430\u043f\u0438\u0441\u0430\u043d \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u0435\u0437 FreeCAD: \u043f\u0440\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 FreeCAD \u043c\u043e\u0434\u0443\u043b\u044c \u043d\u0435 \u043f\u0430\u0434\u0430\u0435\u0442, \u0430 \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c CI (\u043b\u0438\u043d\u0435\u0440\u044b, \u0442\u0435\u0441\u0442\u044b NLP/BIM) \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a.  </li> <li>\u0410\u0432\u0442\u043e\u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u0438 <code>__main__</code> (\u0432\u044b\u0437\u043e\u0432 <code>exec(...)</code> \u0432 FreeCAD) \u2014 \u0443\u0434\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0444\u0438\u0447\u0430; \u043f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0432 wrapper (<code>run_cli.py</code>) \u0430\u0432\u0442\u043e\u0437\u0430\u043f\u0443\u0441\u043a \u043d\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 (\u0447\u0442\u043e\u0431\u044b CI/\u0438\u043c\u043f\u043e\u0440\u0442 \u043d\u0435 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b \u0441\u0435\u0440\u0432\u0435\u0440).  </li> <li>\u0412 CI \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u0448\u0430\u0433\u0438, \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0435 FreeCAD. \u0414\u043b\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0439, \u0437\u0430\u0432\u0438\u0441\u044f\u0449\u0438\u0445 \u043e\u0442 MCP, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u043e\u043a\u0438 <code>FreeCAD</code>/<code>Part</code> \u0432 \u0442\u0435\u0441\u0442\u0430\u0445.</li> </ul> <p>\u041b\u043e\u0433\u0438 \u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0432 FreeCAD</p> <ul> <li>\u0414\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 <code>mcp_serverV3.py</code> \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 <code>logging</code>. \u041c\u044b \u0442\u0430\u043a\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 <code>FreeCAD</code>-\u043b\u043e\u0433-\u0445\u0435\u043d\u0434\u043b\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 <code>FreeCAD</code> \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 <code>logging</code> \u0432 Report View / Python Console (<code>FreeCAD.Console.PrintMessage</code> / <code>PrintError</code>).  </li> <li>\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0432\u0438\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 Report View, \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0432\u044b:</li> <li>\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043b\u0438 <code>exec(...)</code> \u0432\u043d\u0443\u0442\u0440\u0438 FreeCAD (\u0438\u043b\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0438 <code>run_cli.py</code> \u0441 <code>--freecad-path</code>),  </li> <li>Report View \u043e\u0442\u043a\u0440\u044b\u0442 (View \u2192 Panels \u2192 Report view).  </li> </ul> <p>Troubleshooting (\u0447\u0430\u0441\u0442\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438)</p> <ul> <li> <p><code>ModuleNotFoundError: No module named 'FreeCAD'</code>   \u2014 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u043a\u0440\u0438\u043f\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 FreeCAD (exec) \u0438\u043b\u0438 \u0443\u043a\u0430\u0436\u0438\u0442\u0435 <code>FREECAD_PATH</code> \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c <code>run_cli.py</code>.</p> </li> <li> <p><code>ConnectionRefusedError</code> \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 stubs   \u2014 MCP \u043d\u0435 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u043f\u043e\u0440\u0442. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043b\u0438 MCP (FreeCAD console / run_cli logs), \u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u043b\u0438 host/port \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> </li> <li> <p>\u041b\u043e\u0433\u0438 \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432 Report View   \u2014 \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e <code>attach_freecad_logging()</code> \u0432\u044b\u0437\u0432\u0430\u043d (\u0432 <code>mcp_serverV3.py</code> \u043e\u043d \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0430 <code>FreeCAD</code>) \u0438 Report View \u043e\u0442\u043a\u0440\u044b\u0442.</p> </li> </ul> <p>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Pipeline</p> <ul> <li>\u0412 <code>scripts/run_pipeline_local.*</code> \u043b\u043e\u0433\u0438\u043a\u0430 pipeline \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 <code>stubs.json</code> (NLP \u2192 BIM), \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442/\u0436\u0434\u0451\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 MCP \u0432 FreeCAD, \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 <code>stubs.json</code> \u0447\u0435\u0440\u0435\u0437 <code>send_stubs_cli.py</code>. \u042d\u0442\u043e \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0448\u0430\u0433\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0438\u0437-\u0437\u0430 GUI-\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 FreeCAD.</li> </ul> <p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</p> <ul> <li>\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u043e: \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 FreeCAD, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 <code>exec(...)</code> \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>run_cli.py</code>, \u0437\u0430\u0442\u0435\u043c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 <code>send_stubs_cli.py</code> \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435.  </li> <li>\u0412 CI: \u0442\u0435\u0441\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 <code>FreeCAD</code> \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0441 \u043c\u043e\u043a\u0430\u043c\u0438; \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u043a\u043b\u0438\u0435\u043d\u0442/\u0441\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0441 \u043f\u0440\u043e\u0441\u0442\u044b\u043c TCP-\u044d\u0445\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c.</li> </ul>"},{"location":"guide/nlp/","title":"NLP Core","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c NLP Core \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u0430\u043d\u0430\u043b\u0438\u0437 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f (\u0422\u0417) \u0438 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e JSON, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430 (BIM Core \u0438 MCP Server).</p> <p>\ud83d\udcc2 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430</p> <pre><code>nlp_core/\n\u251c\u2500\u2500 config/            # \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (\u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u044b)\n\u251c\u2500\u2500 input/             # \u0412\u0445\u043e\u0434\u043d\u044b\u0435 \u0422\u0417 (docx/pdf/txt)\n\u251c\u2500\u2500 nlp_core/\n\u2502   \u251c\u2500\u2500 __init__.py    # \u043f\u0443\u0441\u0442\u043e\u0439 \u0438\u043b\u0438 \u0441 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c\n\u2502   \u251c\u2500\u2500 run.py         # \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0422\u0417\n\u2502   \u2514\u2500\u2500 run_cli.py     # CLI-\u043e\u0431\u0451\u0440\u0442\u043a\u0430 (\u0442\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430)\n\u251c\u2500\u2500 OUT/               # \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0430 (JSON)\n\u251c\u2500\u2500 requirements.txt   # \u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 Python\n\u2514\u2500\u2500 README.md          # \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0443\u043b\u044f\n</code></pre> <p>\u2699\ufe0f \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430</p> <ul> <li>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u043c\u043e\u0434\u0443\u043b\u044f:</li> </ul> <p><code>cd draftai\\nlp_core</code></p> <ul> <li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0438 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435:</li> </ul> <p><code>python -m venv .venv</code></p> <p><code>.\\.venv\\Scripts\\Activate.ps1</code></p> <ul> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:</li> </ul> <p><code>pip install --upgrade pip</code></p> <p><code>pip install -r requirements.txt</code></p> <ul> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043c\u043e\u0434\u0435\u043b\u044c spaCy \u0434\u043b\u044f \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430:</li> </ul> <p><code>python -m spacy download ru_core_news_sm</code></p> <p>\ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u043a</p> <p>\u041f\u043e\u043a\u0430\u0437 \u0441\u043f\u0440\u0430\u0432\u043a\u0438</p> <p><code>python .\\nlp_core\\nlp_core\\run_cli.py --help</code></p> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0432\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430</p> <p><code>python .\\nlp_core\\nlp_core\\run_cli.py --tz .\\input\\TZ_object.docx --out .\\OUT\\result.json -v</code></p> <p>\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u043e\u0438\u0441\u043a \u0432\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430</p> <p>\u0415\u0441\u043b\u0438 --tz \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d, wrapper \u043f\u043e\u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0439\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 .docx, .pdf \u0438\u043b\u0438 .txt \u0432 \u043f\u0430\u043f\u043a\u0435 nlp_core/input/:*</p> <p><code>python .\\nlp_core\\nlp_core\\run_cli.py --out .\\OUT\\result.json -v</code></p> <p>\ud83d\udd11 \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u044b</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e <code>run_cli.py</code>, \u0430 \u043d\u0435 <code>run.py.</code></p> <p>\u0412\u0445\u043e\u0434\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 DOCX, PDF \u0438\u043b\u0438 TXT.</p> <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0432 \u043f\u0430\u043f\u043a\u0443 OUT/.</p> <p>\u041a\u043e\u0434 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430:</p> <p>0 \u2014 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435,</p> <p>-0 \u2014 \u043e\u0448\u0438\u0431\u043a\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0444\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0438\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442).</p>"},{"location":"install/docker/","title":"Docker","text":"<p>\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442, \u043a\u0430\u043a \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 Docker-\u043e\u0431\u0440\u0430\u0437\u044b \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432: <code>nlp</code>, <code>bim</code>, <code>mcp-client</code>.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: MCP (FreeCAD) \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u2014 MCP-client (\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440) \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 <code>stubs.json</code> \u043d\u0430 MCP, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0439 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0432 FreeCAD.</p>"},{"location":"install/docker/#1","title":"1. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430","text":"<ul> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438 Docker Desktop (Windows/macOS) \u0438\u043b\u0438 Docker Engine (Linux).</li> <li>\u0423\u0431\u0435\u0434\u0438\u0441\u044c, \u0447\u0442\u043e Docker \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: <code>docker version</code> \u0438 <code>docker info</code>.</li> <li>\u0412 Windows \u043b\u0443\u0447\u0448\u0435 \u0438\u043c\u0435\u0442\u044c WSL2 \u0432\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u043c (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f).</li> </ul>"},{"location":"install/docker/#2","title":"2. \u0421\u0431\u043e\u0440\u043a\u0430 \u043e\u0431\u0440\u0430\u0437\u043e\u0432 (\u0432 \u043a\u043e\u0440\u043d\u0435 \u0440\u0435\u043f\u043e)","text":"<p><code>(powershell)</code></p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438 \u0432 \u043a\u043e\u0440\u0435\u043d\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0430</p> <p><code>cd C:\\draftai</code></p> <ul> <li>NLP</li> </ul> <p><code>docker build -f Dockerfile.nlp -t draftai/nlp:local .</code></p> <ul> <li>BIM</li> </ul> <p><code>docker build -f Dockerfile.bim -t draftai/bim:local .</code></p> <ul> <li>MCP-client (\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c)</li> </ul> <p><code>docker build -f Dockerfile.mcp-client -t draftai/mcp-client:local .</code></p> <p>\u0415\u0441\u043b\u0438 Docker Desktop \u0434\u0430\u0451\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u043f\u0440\u0438 build \u2014 \u0443\u0431\u0435\u0434\u0438\u0441\u044c, \u0447\u0442\u043e \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 . \u0432 \u043a\u043e\u043d\u0446\u0435 (\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442), \u0438 Docker Desktop \u0437\u0430\u043f\u0443\u0449\u0435\u043d.</p> <p>\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432 (\u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043d\u0443\u0436\u043d\u044b\u0439) docker ps -a</p>"},{"location":"install/docker/#3-docker-nlp","title":"3. \u0417\u0430\u043f\u0443\u0441\u043a Docker NLP","text":"<p><code>app/nlp_core</code> \u2014 \u044d\u0442\u043e \u043f\u0443\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430, \u0430 \u043d\u0435 \u043f\u0430\u043f\u043a\u0430 \u043d\u0430 \u0432\u0430\u0448\u0435\u043c Windows-\u0434\u0438\u0441\u043a\u0435. Docker \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0444\u0430\u0439\u043b\u043e\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430: \u0435\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0445\u043e\u0441\u0442-\u043f\u0430\u043f\u043a\u0443 \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0447\u0435\u0440\u0435\u0437 <code>-v</code>, \u0444\u0430\u0439\u043b\u044b \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u0438 \u043d\u0435 \u0432\u0438\u0434\u043d\u044b \u043d\u0430 \u0445\u043e\u0441\u0442\u0435.</p> <p>\u041a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430</p> <p>\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0432 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u2014 \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043d\u0430 \u0445\u043e\u0441\u0442\u0435, \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0439 <code>volume.</code></p> <p>\u041f\u0440\u0438\u043c\u0435\u0440: \u0437\u0430\u043f\u0443\u0441\u043a NLP \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432 \u043f\u0430\u043f\u043a\u0443 \u043d\u0430 \u0445\u043e\u0441\u0442\u0435</p> <p>\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0445\u043e\u0441\u0442\u043e\u0432\u0443\u044e \u043f\u0430\u043f\u043a\u0443 <code>New-Item -ItemType Directory -Path C:\\draftai\\nlp_core\\OUT -Force</code></p> <p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0438 \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u043c <code>OUT \u2192 /workspace/output</code></p> <p><code>docker run --rm \\</code></p> <p><code>-v \"C:\\draftai\\nlp_core\\input:/app/nlp_core/input:ro\" \\</code></p> <p><code>-v \"C:\\draftai\\nlp_core\\OUT:/workspace/output\" \\</code></p> <p><code>draftai/nlp:local \\</code></p> <p><code>python /app/nlp_core/nlp_core/run_cli.py --out /workspace/output/result.json -v</code></p> <p>\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b <code>C:\\draftai\\nlp_core\\OUT\\result.json</code> \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442.</p> <p>\u043b\u0438\u0431\u043e:</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a Docker NLP (\u0441\u043e\u0437\u0434\u0430\u0451\u043c <code>result.json</code> \u043d\u0430 \u0445\u043e\u0441\u0442\u0435)</p> <p>\u042d\u0442\u043e \u0432\u0430\u0436\u043d\u044b\u0439 \u0448\u0430\u0433: NLP \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c <code>result.json</code> \u0432 \u0445\u043e\u0441\u0442\u043e\u0432\u0443\u044e \u043f\u0430\u043f\u043a\u0443 C<code>:\\draftai\\nlp_core\\OUT.</code> \u0412\u044b\u043f\u043e\u043b\u043d\u0438:</p> <p><code>$repo = \"C:\\draftai\"</code></p> <p><code>docker run --rm `</code></p> <p><code>-v \"${repo}\\nlp_core\\OUT:/workspace/output\" `</code></p> <p><code>draftai/nlp:local `</code></p> <p><code>sh -c \"python -m pip install --upgrade pip || true; python -m spacy download ru_core_news_sm || true; python /app/nlp_core/nlp_core/run_cli.py --out /workspace/output/result.json -v\"</code></p> <p>\u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u044f:</p> <p><code>-v \"${repo}\\nlp_core\\OUT:/workspace/output\"</code> \u2014 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 <code>C:\\draftai\\nlp_core\\OUT.</code></p> <p>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430: \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 pip (\u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a), \u043f\u043e\u043f\u044b\u0442\u043a\u0430 \u0441\u043a\u0430\u0447\u0430\u0442\u044c spaCy-\u043c\u043e\u0434\u0435\u043b\u044c (\u0435\u0441\u043b\u0438 \u043d\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0432 \u043e\u0431\u0440\u0430\u0437), \u0437\u0430\u0442\u0435\u043c \u0437\u0430\u043f\u0443\u0441\u043a <code>run_cli.py.</code></p> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u0438:</p> <p><code>Test-Path \"C:\\draftai\\nlp_core\\OUT\\result.json\"</code> <code>Get-Content \"C:\\draftai\\nlp_core\\OUT\\result.json\"</code></p> <p>\u0415\u0441\u043b\u0438 \u043d\u0435 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u0440\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u2014 \u0441\u043c\u043e\u0442\u0440\u0438 \u043b\u043e\u0433\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 (\u0441\u043c. \u0440\u0430\u0437\u0434\u0435\u043b \u00ab\u041e\u0442\u043b\u0430\u0434\u043a\u0430\u00bb \u043d\u0438\u0436\u0435).</p>"},{"location":"install/docker/#4-docker-bim-nlp-runs","title":"4. \u0417\u0430\u043f\u0443\u0441\u043a Docker BIM (\u0432\u0445\u043e\u0434 \u2014 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 NLP, \u0432\u044b\u0445\u043e\u0434 \u2014 \u043f\u0430\u043f\u043a\u0430 runs \u043d\u0430 \u0445\u043e\u0441\u0442\u0435)","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0448\u0430\u0433\u0430 3 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c BIM. \u0412\u0430\u0436\u043d\u043e \u2014 \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u043c <code>nlp_core/OUT</code> \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b BIM \u0432\u0438\u0434\u0435\u043b \u0444\u0430\u0439\u043b \u043f\u043e\u0434 \u0442\u0435\u043c \u043f\u0443\u0442\u0451\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d \u043e\u0436\u0438\u0434\u0430\u0435\u0442.</p> <p><code>docker run --rm `</code></p> <p><code>-v \"${repo}\\nlp_core\\OUT:/workspace/input:ro\" `</code></p> <p><code>-v \"${repo}\\bim_core\\runs:/workspace/output\" `</code></p> <p><code>-v \"${repo}\\bim_core\\runs:/app/bim_core/runs\" `</code></p> <p><code>draftai/bim:local `</code></p> <p><code>python /app/bim_core/bim_core/run_cli.py --tz /workspace/input/result.json --out /workspace/output -v</code></p>"},{"location":"install/docker/#5-docker-mcp-client-mcp","title":"5. \u0417\u0430\u043f\u0443\u0441\u043a Docker MCP-client (\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 MCP)","text":"<p>MCP-\u0441\u0435\u0440\u0432\u0435\u0440 \u0443 \u0442\u0435\u0431\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0432 FreeCAD (\u043e\u043d \u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u043f\u043e\u0440\u0442 9090 \u043d\u0430 \u0445\u043e\u0441\u0442\u0435).  <code>exec(open(r\"C:\\draftai\\mcp_server\\mcp_serverV3.py\", encoding=\"utf-8\").read())</code></p> <p>\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043e\u0432 (stubs) <code>docker run --rm `</code></p> <p><code>-v \"${repo}\\bim_core\\runs:/workspace/runs:ro\" `</code></p> <p><code>draftai/mcp-client:local `</code></p> <p><code>python /app/send_stubs_cli.py --stubs /workspace/runs/stubs.json --host host.docker.internal --port 9090 -v</code></p> <p>\u0435\u0441\u043b\u0438 <code>ENTRYPOINT = python /app/send_stubs_cli.py</code> \u0438\u043b\u0438 <code>CMD</code> \u0443\u0436\u0435 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442)</p> <p>\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u043c <code>python /app/send_stubs_cli.py</code> \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u2014 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0441\u043a\u0440\u0438\u043f\u0442\u0430:</p> <p><code>$repo=\"C:\\draftai\"</code></p> <p><code>docker run --rm `</code></p> <p><code>-v \"${repo}\\bim_core\\runs:/workspace/runs:ro\" `</code></p> <p><code>draftai/mcp-client:local `</code></p> <p><code>--stubs /workspace/runs/stubs.json --host host.docker.internal --port 9090 -v</code></p> <p>\u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u043e\u0431\u0440\u0430\u0437 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 CMD:</p> <p><code>docker run --rm -v \"${repo}\\bim_core\\runs:/app/bim_core/runs:ro\" draftai/mcp-client:local</code></p> <p>\u041f\u043e\u043b\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0432\u0440\u0443\u0447\u043d\u0443\u044e (\u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c ENTRYPOINT)</p> <p>\u041c\u043e\u0436\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0431\u043d\u0443\u043b\u0438\u0442\u044c ENTRYPOINT \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0446\u0435\u043b\u0438\u043a\u043e\u043c:</p> <p><code>docker run --rm --entrypoint \"\" `</code></p> <p><code>-v \"${repo}\\bim_core\\runs:/workspace/runs:ro\" `</code></p> <p><code>draftai/mcp-client:local `</code></p> <p><code>python /app/send_stubs_cli.py --stubs /workspace/runs/stubs.json --host host.docker.internal --port 9090</code></p>"},{"location":"install/docker/#6","title":"6. \u0421\u043e\u0432\u0435\u0442\u044b \u0438 \u0442\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438","text":"<p>\u0413\u0434\u0435 \u0438\u0441\u043a\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b? \u2014 \u0415\u0441\u043b\u0438 \u043d\u0435 \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u0448\u044c <code>host-volume</code>, \u0444\u0430\u0439\u043b\u044b \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b \u043f\u043e\u0441\u043b\u0435 <code>--rm</code>. \u0412\u0441\u0435\u0433\u0434\u0430 \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0439 <code>output</code> \u0432 \u043f\u0430\u043f\u043a\u0443 \u0445\u043e\u0441\u0442\u0430.</p> <p>\u041f\u0440\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430: \u043f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043f\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c <code>appuser</code> \u043c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0438\u043c\u0435\u0442\u044c \u043f\u0440\u0430\u0432. \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443 \u0438 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043f\u0440\u0430\u0432\u0430, \u0438\u043b\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043e\u0442 <code>root</code> (\u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u0440\u0430\u0437\u0430).</p> <p>FreeCAD: \u0437\u0430\u043f\u0443\u0441\u043a MCP \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u043d\u0435\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u0435\u043d \u2014 FreeCAD GUI \u043d\u0443\u0436\u0435\u043d \u043d\u0430 \u0445\u043e\u0441\u0442\u0435; \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u0442\u0443\u0431\u043e\u0432.</p>"},{"location":"install/docker/#7-dockerfile","title":"7. \u0413\u0434\u0435 \u0445\u0440\u0430\u043d\u0438\u0442\u044c Dockerfile \u0432 \u0440\u0435\u043f\u043e","text":"<p><code>Dockerfile.nlp, Dockerfile.bim, Dockerfile.mcp-client</code> \u2014 \u043b\u0435\u0436\u0430\u0442 \u0432 \u043a\u043e\u0440\u043d\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f. \u041f\u0440\u0438 \u0431\u0438\u043b\u0434\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439 <code>-f</code> \u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 . (\u043a\u043e\u0440\u0435\u043d\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0430)</p>"},{"location":"install/docker/#8-docker-docker-desktop-gui","title":"8. \u0417\u0430\u043f\u0443\u0441\u043a Docker \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 Docker Desktop (GUI)","text":"<ul> <li>\u041e\u0442\u043a\u0440\u044b\u0442\u044c Docker Desktop</li> </ul> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0438 Docker Desktop \u2192 \u043f\u0435\u0440\u0435\u0439\u0434\u0438 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0443 Images. \u0422\u0430\u043c \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0437\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u044b \u0441\u043e\u0431\u0440\u0430\u043b, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:</p> <p><code>draftai/nlp:local</code></p> <p><code>draftai/bim:local</code></p> <p><code>draftai/mcp-client:local.</code></p> <ul> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0438\u0437 \u043e\u0431\u0440\u0430\u0437\u0430</li> </ul> <p>\u041d\u0430\u0439\u0434\u0438 \u043d\u0443\u0436\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 <code>draftai/nlp:local.</code></p> <p>\u041d\u0430\u0436\u043c\u0438 Run.</p> <p>\u041f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043e\u043a\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430.</p> <ul> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Volumes (\u043c\u0430\u043f\u043f\u0438\u043d\u0433 \u043f\u0430\u043f\u043e\u043a)</li> </ul> <p>\u041d\u0430\u0436\u043c\u0438 + Add Volume.</p> <p>\u0423\u043a\u0430\u0436\u0438 <code>Host path</code> (\u043f\u0443\u0442\u044c \u043d\u0430 \u0442\u0432\u043e\u0451\u043c \u041f\u041a) \u0438 <code>Container path</code> (\u043a\u0443\u0434\u0430 \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435). \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:</p> <p>NLP:</p> <p><code>Host: C:\\draftai\\nlp_core\\OUT</code></p> <p><code>Container: /workspace/output</code></p> <p>BIM:</p> <p><code>Host: C:\\draftai\\nlp_core\\OUT \u2192 Container: /workspace/input:ro</code></p> <p><code>Host: C:\\draftai\\bim_core\\runs \u2192 Container: /workspace/output</code></p> <ul> <li>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443/\u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b</li> </ul> <p>\u0412 \u043e\u043a\u043d\u0435 Run \u0435\u0441\u0442\u044c \u043f\u043e\u043b\u0435 <code>Optional settings \u2192 Command.</code></p> <p>\u0415\u0441\u043b\u0438 \u043e\u0431\u0440\u0430\u0437 \u0443\u0436\u0435 \u0438\u043c\u0435\u0435\u0442 CMD (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 NLP \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e), \u043c\u043e\u0436\u043d\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c.</p> <p>\u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 BIM \u0438\u043b\u0438 MCP-client), \u0432\u043f\u0438\u0448\u0438:</p> <p><code>python /app/bim_core/bim_core/run_cli.py --tz /workspace/input/result.json --out /workspace/output -v</code></p> <p>\u0438\u043b\u0438</p> <p><code>python /app/send_stubs_cli.py --stubs /workspace/runs/stubs.json --host host.docker.internal --port 9090 -v</code></p> <ul> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c</li> </ul> <p>\u041d\u0430\u0436\u043c\u0438 Run container.</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0443 <code>Containers / Apps</code> \u2192 \u0432\u044b\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440.</p> <p>\u0412\u043d\u0443\u0442\u0440\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432\u043a\u043b\u0430\u0434\u043a\u0438:</p> <p>Logs \u2014 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u044b\u0432\u043e\u0434.</p> <p>Files \u2014 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u043e\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430.</p> <p>Exec (CLI) \u2014 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430.</p> <p>\u0415\u0441\u043b\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441\u0440\u0430\u0437\u0443 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0441\u044f, \u043e\u043d \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0441\u044f \u043a\u0430\u043a Exited. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435:</p> <p>\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438 \u043b\u043e\u0433\u0438;</p> <p>\u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c Command.</p>"},{"location":"install/docker_compose/","title":"Docker Compose","text":"<p>Docker Compose \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0432\u0441\u0451 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439.</p> <p>\u0412\u0430\u0436\u043d\u043e\u0435: \u0432 \u043d\u0430\u0448\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 MCP \u0432\u0441\u0451 \u0435\u0449\u0451 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043d\u0430 \u0445\u043e\u0441\u0442\u0435 (FreeCAD). <code>mcp-client</code> \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 <code>stubs.json</code> \u043d\u0430 \u0445\u043e\u0441\u0442.</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a(PowerShell)</p> <p>\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0437\u044b \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b</p> <p><code>docker compose up --build</code></p> <p>\u0438\u043b\u0438 \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432 \u0444\u043e\u043d\u0435</p> <p><code>docker compose up --build -d</code></p> <p>\u0421\u043c\u043e\u0442\u0440\u0438\u043c \u043b\u043e\u0433\u0438 (\u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u043e\u043c \u0432 \u0444\u043e\u043d\u0435)</p> <p><code>docker compose logs -f</code></p>"},{"location":"install/local/","title":"\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 (Python + venv)","text":"<p>\u042d\u0442\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u2014 \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u0431\u0435\u0437 Docker). \u041f\u043e\u0434\u043e\u0439\u0434\u0451\u0442, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c NLP, BIM \u0438 \u043a\u043b\u0438\u0435\u043d\u0442 MCP \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u043d\u0430 \u043c\u0430\u0448\u0438\u043d\u0435.</p>"},{"location":"install/local/#1","title":"1. \u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Python \u2265 3.11 (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f 3.11 \u2014 3.13).</li> <li>Git.</li> <li>\u041f\u0440\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 MCP \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 FreeCAD (MCP \u0441\u0435\u0440\u0432\u0435\u0440 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 FreeCAD).</li> </ul>"},{"location":"install/local/#2","title":"2. \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f","text":"<p><code>bash git clone &lt;\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439-git&gt; draftai cd draftai</code></p>"},{"location":"install/local/#3","title":"3. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f) \u0438 \u0443\u0441\u0442\u0430\u043d\u0432\u043e\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<p>\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u00ab\u0433\u0438\u0431\u0440\u0438\u0434\u00bb: \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0435\u043c \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 .venv, \u0435\u0441\u043b\u0438 \u0435\u0433\u043e \u043d\u0435\u0442 \u2014 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043d\u044b\u0435 .venv.</p> <p>Windows (PowerShell)</p> <p><code>cd nlp_core</code></p> <p><code>python -m venv .venv</code></p> <p><code>.\\.venv\\Scripts\\Activate.ps1</code></p> <p><code>pip install --upgrade pip</code> <code>pip install -r requirements.txt</code></p> <p>Linux / macOS python -m venv .venv source .venv/bin/activate pip install --upgrade pip setuptools wheel</p> <p>\u041f\u0420\u0418\u041c\u0415\u0427\u0410\u041d\u0418\u0415. \u0412 requirements.txt \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0442\u044f\u0436\u0451\u043b\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b (transformers, ifcopenshell \u0438 \u0442.\u0434.) \u2014 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0439\u043c\u0451\u0442 \u0432\u0440\u0435\u043c\u044f.</p> <p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 spaCy (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f NLP) <code>python -m spacy download ru_core_news_sm</code></p> <p>\u0415\u0441\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0435 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u2014 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043b\u0438 .venv \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c.</p>"},{"location":"install/local/#4","title":"4. \u0417\u0430\u043f\u0443\u0441\u043a \u043c\u043e\u0434\u0443\u043b\u0435\u0439","text":""},{"location":"install/local/#nlp-core","title":"NLP Core","text":"<p><code>python .\\nlp_core\\run_cli.py --out .\\OUT\\result.json -v</code></p> <p>\u043b\u0438\u0431\u043e, \u044f\u0432\u043d\u043e:</p> <p><code>python -m nlp_core.run nlp_core/input/TZ_object.docx nlp_core/OUT/result.json</code></p> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044c <code>nlp_core/OUT/result.json.</code></p>"},{"location":"install/local/#bim-core-nlp","title":"BIM Core (\u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e NLP)","text":"<p>PowerShell (\u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u0440\u0435\u043f\u043e):</p> <p>\u0430\u0432\u0442\u043e\u043f\u043e\u0438\u0441\u043a IFC \u0432 bim_core/samples:</p> <p><code>python .\\bim_core\\bim_core\\run_cli.py --tz .\\nlp_core\\OUT\\result.json --out .\\bim_core\\runs -v</code></p> <p>\u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0432 bim_core/runs/ \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f stubs.json, match_report.json, spaces.json.</p>"},{"location":"install/local/#mcp-freecad","title":"MCP (FreeCAD) \u2014 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e","text":"<p>MCP-\u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u043b\u044c\u0437\u044f \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0432\u043d\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f FreeCAD (\u043c\u043e\u0434\u0443\u043b\u044c FreeCAD \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043e\u0431\u044b\u0447\u043d\u043e\u043c \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0435).</p> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c MCP \u0432 FreeCAD:</p> <p>\u041e\u0442\u043a\u0440\u043e\u0439 FreeCAD GUI.</p> <p>\u0412 Python-\u043a\u043e\u043d\u0441\u043e\u043b\u0438 (View \u2192 Panels \u2192 Python console) \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c:</p> <p><code>exec(open(r\"C:\\path\\to\\draftai\\mcp_server\\mcp_serverV3.py\", encoding=\"utf-8\").read())</code> (\u043f\u043e\u0434\u0441\u0442\u0430\u0432\u044c \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u043a \u0444\u0430\u0439\u043b\u0443)</p> <p>\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: <code>exec(open(r\"C:\\draftai\\mcp_server\\mcp_serverV3.py\", encoding=\"utf-8\").read())</code></p> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e MCP \u0431\u0443\u0434\u0435\u0442 \u0441\u043b\u0443\u0448\u0430\u0442\u044c <code>127.0.0.1:9090</code> (\u0438\u043b\u0438 \u0442\u043e\u0442, \u0447\u0442\u043e \u0443 \u0442\u0435\u0431\u044f \u0432 \u043a\u043e\u0434\u0435).</p>"},{"location":"install/local/#mcp","title":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u044b \u043d\u0430 MCP:","text":"<p><code>python .\\scripts\\send_stubs_cli.py --stubs bim_core/runs/stubs.json -v</code></p> <p><code>python scripts/send_stubs_cli.py --stubs bim_core/runs/stubs.json --host 127.0.0.1 --port 9090 -v</code></p>"},{"location":"install/local/#5-troubleshooting","title":"5. \u0421\u043e\u0432\u0435\u0442\u044b / Troubleshooting","text":"<p>\u0415\u0441\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 Docker (\u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 Docker) \u2014 \u0441\u043c. <code>docs/install/docker.md</code> \u0438 \u043a\u0430\u043a \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043c\u0430.</p> <ul> <li>TZ \u0444\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d</li> </ul> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0443\u0442\u044c, \u043e\u0442\u043a\u0443\u0434\u0430 \u0432\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u043d\u044f \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u0438\u043b\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439.</p> <ul> <li>No spaces.json provided or generated from IFC</li> </ul> <p>\u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e <code>--ifc</code> \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043b\u0438 <code>ifc_reader.export_spaces</code> \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043b <code>runs/spaces.json.</code> \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043b\u043e\u0433\u0438 <code>bim_core</code> \u2014 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e <code>ifc_reader</code> \u0443\u043f\u0430\u043b \u0438\u0437-\u0437\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 IFC.</p> <ul> <li>ModuleNotFoundError: No module named 'FreeCAD'</li> </ul> <p>MCP \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u043d\u0443\u0442\u0440\u0438 FreeCAD \u0438\u043b\u0438 \u0441 FREECAD_PATH, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0438\u043c \u043d\u0430 \u043f\u0430\u043f\u043a\u0443 \u0441 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u043c\u0438 \u043c\u043e\u0434\u0443\u043b\u044f\u043c\u0438 FreeCAD. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f: \u043e\u0442\u043a\u0440\u044b\u0442\u044c FreeCAD GUI \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c <code>exec(open(r'.../mcp_serverV3.py').read())</code> \u0432 Python Console.</p> <ul> <li>ConnectionRefusedError \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 stubs</li> </ul> <p>MCP \u043d\u0435 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0440\u0442: \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e MCP \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0438 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 HOST:PORT. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e <code>send_stubs_cli.py</code> \u043f\u043e\u0441\u044b\u043b\u0430\u0435\u0442 \u043d\u0430 \u0442\u043e\u0442 \u0436\u0435 <code>host/port</code>, \u0447\u0442\u043e \u0438 MCP.</p> <ul> <li>.venv \u043d\u0435 \u043a\u043e\u043c\u043c\u0438\u0442\u0438\u0442\u044c. .venv \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432 .gitignore.</li> </ul>"},{"location":"install/local/#6","title":"6. \u0420\u0435\u0437\u044e\u043c\u0435","text":"<p>\u0414\u043b\u044f PoC \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e: \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0434\u0438\u043d <code>.venv</code>, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c <code>deps</code>, \u0441\u043a\u0430\u0447\u0430\u0442\u044c spaCy \u043c\u043e\u0434\u0435\u043b\u044c, \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c <code>nlp \u2192 bim \u2192 MCP \u0432 FreeCAD</code> \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c <code>stubs.json.</code></p>"},{"location":"install/local/#7-powershell","title":"7. \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 (PowerShell)","text":"<p><code>setup_dev_env.ps1</code> - \u0441\u043a\u0440\u0438\u043f\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043f\u0430\u043f\u043a\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f PowerShell \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439: <code>.\\scripts\\setup_dev_env.ps1</code></p> <p><code>run_pipeline.ps1</code>  - \u0441\u043a\u0440\u0438\u043f\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f NLP-BIM-MCP \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f PowerShell \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439: <code>.\\scripts\\run_pipeline.ps1</code>. !!! \u041d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 python -m spacy download ru_core_news_sm!!! \u0431\u0435\u0437 \u043d\u0435\u0451 \u0431\u0443\u0434\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 Step 1/4</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 (Linux/MacOS) \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0447\u0435\u0440\u0435\u0437 git_bash \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 <code>setup_dev_env.sh</code> - \u0441\u043a\u0440\u0438\u043f\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f  <code>run_pipeline.sh</code> - \u0441\u043a\u0440\u0438\u043f\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f NLP-BIM-MCP </p>"}]}